$(document).ready(function(){var array_map_world;var color;var history;function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}var index_firs_pred=false;var index_firs;function Location(y,x,top,right,bottom,left,image_on,image_off,type_figure,charge){this.y=y;this.x=x;this.top=top;this.right=right;this.bottom=bottom;this.left=left;this.image_on=image_on;this.image_off=image_off;this.type_figure=type_figure;this.charge=charge;this.degrees=0;this.skip_figure=0}function getTurn(y,x){if(array_map_world[y][x]!=0){array_map_world[y][x].degrees+=90;if(array_map_world[y][x].type_figure=="straight"){if(array_map_world[y][x].top==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}else if(array_map_world[y][x].right==1&&array_map_world[y][x].left==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}}else if(array_map_world[y][x].type_figure=="star"){if(array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}else if(array_map_world[y][x].top==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}else if(array_map_world[y][x].right==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}}else if(array_map_world[y][x].type_figure=="curve_3"){if(array_map_world[y][x].top==1&&array_map_world[y][x].left==1&&array_map_world[y][x].right==1){array_map_world[y][x].top=1;array_map_world[y][x].right=1;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}else if(array_map_world[y][x].top==1&&array_map_world[y][x].right==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=1;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1&&array_map_world[y][x].right==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1&&array_map_world[y][x].top==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=1;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}}else if(array_map_world[y][x].type_figure=="ball"){if(array_map_world[y][x].top==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}else if(array_map_world[y][x].right==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}else if(array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}}else if(array_map_world[y][x].type_figure=="curve_2"){if(array_map_world[y][x].top==1&&array_map_world[y][x].right==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}else if(array_map_world[y][x].right==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=1}else if(array_map_world[y][x].bottom==1&&array_map_world[y][x].left==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1&&array_map_world[y][x].top==1){array_map_world[y][x].top=1;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}}$('#y_'+array_map_world[y][x].y+"_x_"+array_map_world[y][x].x).rotate({animateTo:array_map_world[y][x].degrees})}}function create_figure(y,x,type_figure){var location;if(type_figure=="cross"){location=new Location(y,x,1,1,1,1,"images/cross_on.png","images/cross_off.png","cross",false)}else if(type_figure=="straight"){location=new Location(y,x,1,0,1,0,"images/straight_on.png","images/straight_off.png","straight",false)}else if(type_figure=="curve_3"){location=new Location(y,x,1,1,0,1,"images/curve_3_on.png","images/curve_3_off.png","curve_3",false)}else if(type_figure=="ball"){var array_ball_color=['red','blue','green','yellow'];var on;var off;var color_fun=array_ball_color[getRandomInt(0,array_ball_color.length-1)];while(color_fun==color){color_fun=array_ball_color[getRandomInt(0,array_ball_color.length-1)]}switch(color_fun){case"red":on="/images/red_on.png";off="/images/red_off.png";break;case"blue":on="/images/blue_on.png";off="/images/blue_off.png";break;case"green":on="/images/green_on.png";off="/images/green_off.png";break;case"yellow":on="/images/yellow_on.png";off="/images/yellow_off.png";break}color=color_fun;location=new Location(y,x,1,0,0,0,on,off,"ball",false)}else if(type_figure=="curve_2"){location=new Location(y,x,1,1,0,0,"images/curve_2_on.png","images/curve_2_off.png","curve_2",false)}else if(type_figure=="star"){location=new Location(y,x,0,0,1,0,"images/star_on.png","images/star_off.png","star",false)}return location}function getWordAndElka(){var array_map_world=[];for(i=0;i<15;i++){array_map_world[i]=[];for(j=0;j<15;j++){array_map_world[i][j]=0;var loc="y_"+i+"_x_"+j;$('.word').append("<div id='"+loc+"' class='loc'></div>")}}array_map_world[0][7]=1;array_map_world[1][7]=1;array_map_world[2][6]=1;array_map_world[2][7]=1;array_map_world[2][8]=1;array_map_world[3][5]=1;array_map_world[3][6]=1;array_map_world[3][7]=1;array_map_world[3][8]=1;array_map_world[3][9]=1;array_map_world[4][4]=1;array_map_world[4][5]=1;array_map_world[4][6]=1;array_map_world[4][7]=1;array_map_world[4][8]=1;array_map_world[4][9]=1;array_map_world[4][10]=1;array_map_world[5][3]=1;array_map_world[5][4]=1;array_map_world[5][5]=1;array_map_world[5][6]=1;array_map_world[5][7]=1;array_map_world[5][8]=1;array_map_world[5][9]=1;array_map_world[5][10]=1;array_map_world[5][11]=1;array_map_world[6][3]=1;array_map_world[6][4]=1;array_map_world[6][5]=1;array_map_world[6][6]=1;array_map_world[6][7]=1;array_map_world[6][8]=1;array_map_world[6][9]=1;array_map_world[6][10]=1;array_map_world[6][11]=1;array_map_world[7][2]=1;array_map_world[7][3]=1;array_map_world[7][4]=1;array_map_world[7][5]=1;array_map_world[7][6]=1;array_map_world[7][7]=1;array_map_world[7][8]=1;array_map_world[7][9]=1;array_map_world[7][10]=1;array_map_world[7][11]=1;array_map_world[7][12]=1;array_map_world[8][2]=1;array_map_world[8][3]=1;array_map_world[8][4]=1;array_map_world[8][5]=1;array_map_world[8][6]=1;array_map_world[8][7]=1;array_map_world[8][8]=1;array_map_world[8][9]=1;array_map_world[8][10]=1;array_map_world[8][11]=1;array_map_world[8][12]=1;array_map_world[9][1]=1;array_map_world[9][2]=1;array_map_world[9][3]=1;array_map_world[9][4]=1;array_map_world[9][5]=1;array_map_world[9][6]=1;array_map_world[9][7]=1;array_map_world[9][8]=1;array_map_world[9][9]=1;array_map_world[9][10]=1;array_map_world[9][11]=1;array_map_world[9][12]=1;array_map_world[9][13]=1;array_map_world[10][1]=1;array_map_world[10][2]=1;array_map_world[10][3]=1;array_map_world[10][4]=1;array_map_world[10][5]=1;array_map_world[10][6]=1;array_map_world[10][7]=1;array_map_world[10][8]=1;array_map_world[10][9]=1;array_map_world[10][10]=1;array_map_world[10][11]=1;array_map_world[10][12]=1;array_map_world[10][13]=1;array_map_world[11][1]=1;array_map_world[11][2]=1;array_map_world[11][3]=1;array_map_world[11][4]=1;array_map_world[11][5]=1;array_map_world[11][6]=1;array_map_world[11][7]=1;array_map_world[11][8]=1;array_map_world[11][9]=1;array_map_world[11][10]=1;array_map_world[11][11]=1;array_map_world[11][12]=1;array_map_world[11][13]=1;array_map_world[12][0]=1;array_map_world[12][1]=1;array_map_world[12][2]=1;array_map_world[12][3]=1;array_map_world[12][4]=1;array_map_world[12][5]=1;array_map_world[12][6]=1;array_map_world[12][7]=1;array_map_world[12][8]=1;array_map_world[12][9]=1;array_map_world[12][10]=1;array_map_world[12][11]=1;array_map_world[12][12]=1;array_map_world[12][13]=1;array_map_world[12][14]=1;array_map_world[13][0]=1;array_map_world[13][1]=1;array_map_world[13][2]=1;array_map_world[13][3]=1;array_map_world[13][4]=1;array_map_world[13][5]=1;array_map_world[13][6]=1;array_map_world[13][7]=1;array_map_world[13][8]=1;array_map_world[13][9]=1;array_map_world[13][10]=1;array_map_world[13][11]=1;array_map_world[13][12]=1;array_map_world[13][13]=1;array_map_world[13][14]=1;array_map_world[14][7]=1;return array_map_world}function getT_3(){array_map_world[0][7]=create_figure(0,7,"star");var array=['cross','curve_3','straight'];array_map_world[1][7]=create_figure(1,7,array[getRandomInt(0,array.length-1)]);if(array_map_world[1][7].type_figure=="curve_3"){getTurn(1,7)}array_map_world[14][7]=create_figure(14,7,array[getRandomInt(0,array.length-1)]);if(array_map_world[14][7].type_figure=="curve_3"){getTurn(14,7)}array_map_world[13][7]=create_figure(13,7,'curve_2');getTurn(13,7);array_map_world[13][8]=create_figure(13,8,'straight');getTurn(13,8);array_map_world[13][9]=create_figure(13,9,'straight');getTurn(13,9);array_map_world[13][10]=create_figure(13,10,'curve_3');array_map_world[13][11]=create_figure(13,11,'straight');getTurn(13,11);array_map_world[13][12]=create_figure(13,12,'curve_2');getTurn(13,12);getTurn(13,12);getTurn(13,12);array_map_world[13][14]=create_figure(13,14,'ball');getTurn(13,14);getTurn(13,14);getTurn(13,14);array_map_world[13][13]=create_figure(13,13,'curve_2');array_map_world[12][12]=create_figure(12,12,'curve_2');getTurn(12,12);array_map_world[13][13]=create_figure(13,13,'curve_2');array_map_world[12][14]=create_figure(12,14,'ball');getTurn(12,14);getTurn(12,14);getTurn(12,14);array_map_world[12][13]=create_figure(12,13,'cross');array_map_world[9][13]=create_figure(9,13,'ball');getTurn(9,13);getTurn(9,13);array_map_world[10][13]=create_figure(10,13,'curve_3');getTurn(10,13);getTurn(10,13);getTurn(10,13);array_map_world[11][13]=create_figure(11,13,'straight');array_map_world[12][10]=create_figure(12,10,'cross');array_map_world[11][10]=create_figure(11,10,'ball');getTurn(11,10);getTurn(11,10);array_map_world[12][11]=create_figure(12,11,'ball');getTurn(12,11);getTurn(12,11);getTurn(12,11);array_map_world[12][9]=create_figure(12,9,'straight');getTurn(12,9);array_map_world[12][8]=create_figure(12,8,'straight');getTurn(12,8);array_map_world[12][7]=create_figure(12,7,'straight');getTurn(12,7);array_map_world[12][6]=create_figure(12,6,'cross');array_map_world[12][5]=create_figure(12,5,'curve_2');array_map_world[13][6]=create_figure(13,6,'curve_2');getTurn(13,6);getTurn(13,6);getTurn(13,6);array_map_world[13][5]=create_figure(13,5,'straight');getTurn(13,5);array_map_world[13][4]=create_figure(13,4,'ball');getTurn(13,4);array_map_world[11][5]=create_figure(11,5,'curve_3');getTurn(11,5);getTurn(11,5);getTurn(11,5);array_map_world[11][4]=create_figure(11,4,'cross');array_map_world[12][4]=create_figure(12,4,'curve_2');getTurn(12,4);getTurn(12,4);getTurn(12,4);array_map_world[12][3]=create_figure(12,3,'curve_3');getTurn(12,3);getTurn(12,3);array_map_world[13][3]=create_figure(13,3,'curve_2');getTurn(13,3);getTurn(13,3);getTurn(13,3);array_map_world[13][0]=create_figure(13,0,'ball');getTurn(13,0);array_map_world[13][1]=create_figure(13,1,'straight');getTurn(13,1);array_map_world[13][2]=create_figure(13,2,'straight');getTurn(13,2);array_map_world[12][0]=create_figure(12,0,'ball');getTurn(12,0);array_map_world[12][1]=create_figure(12,1,'curve_3');array_map_world[12][2]=create_figure(12,2,'straight');getTurn(12,2);array_map_world[9][1]=create_figure(9,1,'ball');getTurn(9,1);getTurn(9,1);array_map_world[10][1]=create_figure(10,1,'straight');array_map_world[11][1]=create_figure(11,1,'straight');array_map_world[11][2]=create_figure(11,2,'ball');getTurn(11,2);array_map_world[7][2]=create_figure(7,2,'ball');getTurn(7,2);array_map_world[11][3]=create_figure(11,3,'straight');getTurn(11,3);array_map_world[6][3]=create_figure(6,3,'ball');getTurn(6,3);array_map_world[5][3]=create_figure(5,3,'ball');getTurn(5,3);array_map_world[7][3]=create_figure(7,3,'curve_2');getTurn(7,3);getTurn(7,3);array_map_world[8][3]=create_figure(8,3,'cross');array_map_world[8][2]=create_figure(8,2,'curve_2');getTurn(8,2);array_map_world[9][2]=create_figure(9,2,'ball');array_map_world[9][3]=create_figure(9,3,'straight');array_map_world[10][4]=create_figure(10,4,'curve_2');getTurn(10,4);getTurn(10,4);array_map_world[10][2]=create_figure(10,2,'ball');getTurn(10,2);array_map_world[10][3]=create_figure(10,3,'curve_3');array_map_world[10][12]=create_figure(10,12,'curve_2');getTurn(10,12);array_map_world[11][12]=create_figure(11,12,'curve_2');getTurn(11,12);getTurn(11,12);getTurn(11,12);array_map_world[11][11]=create_figure(11,11,'curve_2');array_map_world[10][11]=create_figure(10,11,'curve_2');getTurn(10,11);getTurn(10,11);array_map_world[10][10]=create_figure(10,10,'straight');getTurn(10,10);array_map_world[10][9]=create_figure(10,9,'straight');getTurn(10,9);array_map_world[10][8]=create_figure(10,8,'curve_3');getTurn(10,8);getTurn(10,8);array_map_world[11][7]=create_figure(11,7,'ball');array_map_world[10][7]=create_figure(10,7,'curve_2');getTurn(10,7);array_map_world[8][4]=create_figure(8,4,'curve_2');getTurn(8,4);getTurn(8,4);array_map_world[9][4]=create_figure(9,4,'curve_2');array_map_world[11][9]=create_figure(11,9,'ball');getTurn(11,9);getTurn(11,9);getTurn(11,9);array_map_world[11][8]=create_figure(11,8,'curve_2');array_map_world[11][6]=create_figure(11,6,'ball');getTurn(11,6);getTurn(11,6);array_map_world[10][5]=create_figure(10,5,'curve_2');getTurn(10,5);array_map_world[10][6]=create_figure(10,6,'curve_2');getTurn(10,6);getTurn(10,6);getTurn(10,6);array_map_world[9][6]=create_figure(9,6,'curve_2');getTurn(9,6);array_map_world[9][7]=create_figure(9,7,'straight');getTurn(9,7);array_map_world[9][8]=create_figure(9,8,'straight');getTurn(9,8);array_map_world[9][9]=create_figure(9,9,'straight');getTurn(9,9);array_map_world[9][12]=create_figure(9,12,'curve_2');getTurn(9,12);getTurn(9,12);getTurn(9,12);array_map_world[9][10]=create_figure(9,10,'straight');getTurn(9,10);array_map_world[9][11]=create_figure(9,11,'straight');getTurn(9,11);array_map_world[9][5]=create_figure(9,5,'curve_2');getTurn(9,5);getTurn(9,5);getTurn(9,5);array_map_world[8][5]=create_figure(8,5,'curve_2');getTurn(8,5);array_map_world[8][12]=create_figure(8,12,'curve_3');getTurn(8,12);getTurn(8,12);getTurn(8,12);array_map_world[7][12]=create_figure(7,12,'ball');getTurn(7,12);getTurn(7,12);array_map_world[8][8]=create_figure(8,8,'curve_3');array_map_world[8][6]=create_figure(8,6,'straight');getTurn(8,6);array_map_world[8][7]=create_figure(8,7,'straight');getTurn(8,7);array_map_world[8][11]=create_figure(8,11,'straight');getTurn(8,11);array_map_world[8][10]=create_figure(8,10,'straight');getTurn(8,10);array_map_world[8][9]=create_figure(8,9,'straight');getTurn(8,9);array_map_world[5][11]=create_figure(5,11,'ball');getTurn(5,11);getTurn(5,11);array_map_world[7][8]=create_figure(7,8,'cross');array_map_world[7][9]=create_figure(7,9,'straight');getTurn(7,9);array_map_world[7][10]=create_figure(7,10,'straight');getTurn(7,10);array_map_world[7][11]=create_figure(7,11,'curve_2');getTurn(7,11);getTurn(7,11);getTurn(7,11);array_map_world[6][11]=create_figure(6,11,'curve_3');getTurn(6,11);getTurn(6,11);getTurn(6,11);array_map_world[4][10]=create_figure(4,10,'ball');getTurn(4,10);getTurn(4,10);getTurn(4,10);array_map_world[4][9]=create_figure(4,9,'curve_2');getTurn(4,9);array_map_world[6][10]=create_figure(6,10,'curve_2');array_map_world[5][10]=create_figure(5,10,'curve_2');getTurn(5,10);getTurn(5,10);array_map_world[5][9]=create_figure(5,9,'curve_3');array_map_world[7][7]=create_figure(7,7,'curve_3');array_map_world[7][6]=create_figure(7,6,'straight');getTurn(7,6);array_map_world[7][5]=create_figure(7,5,'straight');getTurn(7,5);array_map_world[7][4]=create_figure(7,4,'curve_2');array_map_world[3][5]=create_figure(3,5,'ball');getTurn(3,5);getTurn(3,5);array_map_world[4][4]=create_figure(4,4,'ball');getTurn(4,4);getTurn(4,4);array_map_world[6][4]=create_figure(6,4,'curve_3');getTurn(6,4);getTurn(6,4);getTurn(6,4);array_map_world[5][4]=create_figure(5,4,'cross');array_map_world[5][5]=create_figure(5,5,'curve_2');getTurn(5,5);getTurn(5,5);getTurn(5,5);array_map_world[4][5]=create_figure(4,5,'straight');array_map_world[6][5]=create_figure(6,5,'ball');getTurn(6,5);array_map_world[6][9]=create_figure(6,9,'ball');getTurn(6,9);getTurn(6,9);getTurn(6,9);array_map_world[6][7]=create_figure(6,7,'curve_2');getTurn(6,7);getTurn(6,7);array_map_world[6][6]=create_figure(6,6,'curve_3');array_map_world[4][6]=create_figure(4,6,'straight');array_map_world[5][6]=create_figure(5,6,'straight');array_map_world[2][6]=create_figure(2,6,'curve_2');getTurn(2,6);array_map_world[3][6]=create_figure(3,6,'straight');array_map_world[2][7]=create_figure(2,7,'curve_2');getTurn(2,7);getTurn(2,7);getTurn(2,7);array_map_world[6][8]=create_figure(6,8,'curve_2');getTurn(6,8);array_map_world[5][7]=create_figure(5,7,'ball');getTurn(5,7);array_map_world[5][8]=create_figure(5,8,'cross');array_map_world[4][8]=create_figure(4,8,'straight');array_map_world[3][8]=create_figure(3,8,'cross');array_map_world[2][8]=create_figure(2,8,'ball');getTurn(2,8);getTurn(2,8);array_map_world[3][9]=create_figure(3,9,'ball');getTurn(3,9);getTurn(3,9);getTurn(3,9);array_map_world[4][7]=create_figure(4,7,'ball');array_map_world[3][7]=create_figure(3,7,'curve_2');getTurn(3,7)}function getT_2(){array_map_world[0][7]=create_figure(0,7,"star");var array=['cross','curve_3','straight'];array_map_world[1][7]=create_figure(1,7,array[getRandomInt(0,array.length-1)]);if(array_map_world[1][7].type_figure=="curve_3"){getTurn(1,7)}array_map_world[14][7]=create_figure(14,7,array[getRandomInt(0,array.length-1)]);if(array_map_world[14][7].type_figure=="curve_3"){getTurn(14,7)}array_map_world[13][7]=create_figure(13,7,'curve_2');getTurn(13,7);getTurn(13,7);array_map_world[13][6]=create_figure(13,6,'straight');getTurn(13,6);array_map_world[13][5]=create_figure(13,5,'curve_3');array_map_world[13][4]=create_figure(13,4,'straight');getTurn(13,4);array_map_world[13][3]=create_figure(13,3,'curve_3');array_map_world[13][0]=create_figure(13,0,'ball');array_map_world[13][1]=create_figure(13,1,'ball');array_map_world[13][2]=create_figure(13,2,'ball');getTurn(13,2);array_map_world[12][3]=create_figure(12,3,'curve_3');getTurn(12,3);getTurn(12,3);array_map_world[12][2]=create_figure(12,2,'straight');getTurn(12,2);array_map_world[12][1]=create_figure(12,1,'curve_3');getTurn(12,1);getTurn(12,1);array_map_world[12][0]=create_figure(12,0,'curve_2');getTurn(12,0);array_map_world[12][4]=create_figure(12,4,'ball');getTurn(12,4);getTurn(12,4);getTurn(12,4);array_map_world[12][5]=create_figure(12,5,'curve_2');getTurn(12,5);array_map_world[12][6]=create_figure(12,6,'curve_3');array_map_world[12][7]=create_figure(12,7,'straight');getTurn(12,7);array_map_world[12][8]=create_figure(12,8,'curve_3');getTurn(12,8);getTurn(12,8);array_map_world[13][8]=create_figure(13,8,'ball');array_map_world[13][10]=create_figure(13,10,'ball');getTurn(13,10);getTurn(13,10);getTurn(13,10);array_map_world[13][9]=create_figure(13,9,'curve_2');array_map_world[12][9]=create_figure(12,9,'curve_3');getTurn(12,9);getTurn(12,9);array_map_world[12][10]=create_figure(12,10,'straight');getTurn(12,10);array_map_world[12][11]=create_figure(12,11,'cross');array_map_world[13][11]=create_figure(13,11,'ball');array_map_world[13][12]=create_figure(13,12,'ball');array_map_world[13][14]=create_figure(13,14,'ball');getTurn(13,14);getTurn(13,14);getTurn(13,14);array_map_world[12][12]=create_figure(12,12,'curve_3');getTurn(12,12);getTurn(12,12);array_map_world[12][13]=create_figure(12,13,'cross');array_map_world[12][14]=create_figure(12,14,'ball');getTurn(12,14);getTurn(12,14);getTurn(12,14);array_map_world[13][13]=create_figure(13,13,'curve_2');array_map_world[11][1]=create_figure(11,1,'ball');array_map_world[10][1]=create_figure(10,1,'curve_2');getTurn(10,1);array_map_world[10][2]=create_figure(10,2,'curve_2');getTurn(10,2);getTurn(10,2);array_map_world[11][2]=create_figure(11,2,'curve_2');array_map_world[11][3]=create_figure(11,3,'straight');getTurn(11,3);array_map_world[11][4]=create_figure(11,4,'straight');getTurn(11,4);array_map_world[11][5]=create_figure(11,5,'straight');getTurn(11,5);array_map_world[11][6]=create_figure(11,6,'curve_3');getTurn(11,6);getTurn(11,6);array_map_world[11][7]=create_figure(11,7,'curve_3');array_map_world[11][8]=create_figure(11,8,'ball');getTurn(11,8);getTurn(11,8);getTurn(11,8);array_map_world[11][9]=create_figure(11,9,'ball');getTurn(11,9);array_map_world[11][10]=create_figure(11,10,'straight');getTurn(11,10);array_map_world[11][11]=create_figure(11,11,'curve_3');getTurn(11,11);getTurn(11,11);getTurn(11,11);array_map_world[11][12]=create_figure(11,12,'ball');getTurn(11,12);array_map_world[11][13]=create_figure(11,13,'curve_2');getTurn(11,13);getTurn(11,13);array_map_world[9][1]=create_figure(9,1,'ball');getTurn(9,1);array_map_world[10][7]=create_figure(10,7,'curve_2');getTurn(10,7);getTurn(10,7);array_map_world[10][6]=create_figure(10,6,'straight');getTurn(10,6);array_map_world[10][5]=create_figure(10,5,'straight');getTurn(10,5);array_map_world[10][4]=create_figure(10,4,'curve_3');array_map_world[10][3]=create_figure(10,3,'curve_2');array_map_world[9][3]=create_figure(9,3,'curve_2');getTurn(9,3);getTurn(9,3);array_map_world[9][2]=create_figure(9,2,'curve_3');array_map_world[7][2]=create_figure(7,2,'ball');getTurn(7,2);getTurn(7,2);array_map_world[8][2]=create_figure(8,2,'straight');array_map_world[9][4]=create_figure(9,4,'curve_2');getTurn(9,4);array_map_world[9][5]=create_figure(9,5,'straight');getTurn(9,5);array_map_world[9][6]=create_figure(9,6,'straight');getTurn(9,6);array_map_world[9][7]=create_figure(9,7,'straight');getTurn(9,7);array_map_world[9][8]=create_figure(9,8,'straight');getTurn(9,8);array_map_world[9][9]=create_figure(9,9,'cross');array_map_world[10][8]=create_figure(10,8,'ball');getTurn(10,8);array_map_world[10][9]=create_figure(10,9,'curve_2');getTurn(10,9);getTurn(10,9);getTurn(10,9);array_map_world[10][11]=create_figure(10,11,'cross');array_map_world[10][10]=create_figure(10,10,'ball');getTurn(10,10);array_map_world[10][12]=create_figure(10,12,'straight');getTurn(10,12);array_map_world[10][13]=create_figure(10,13,'ball');getTurn(10,13);getTurn(10,13);getTurn(10,13);array_map_world[9][13]=create_figure(9,13,'ball');getTurn(9,13);getTurn(9,13);getTurn(9,13);array_map_world[9][12]=create_figure(9,12,'straight');getTurn(9,12);array_map_world[9][11]=create_figure(9,11,'curve_2');getTurn(9,11);array_map_world[9][10]=create_figure(9,10,'curve_2');getTurn(9,10);getTurn(9,10);getTurn(9,10);array_map_world[7][12]=create_figure(7,12,'ball');getTurn(7,12);getTurn(7,12);array_map_world[8][12]=create_figure(8,12,'curve_2');getTurn(8,12);getTurn(8,12);getTurn(8,12);array_map_world[8][11]=create_figure(8,11,'straight');getTurn(8,11);array_map_world[8][9]=create_figure(8,9,'straight');array_map_world[7][9]=create_figure(7,9,'straight');array_map_world[6][9]=create_figure(6,9,'cross');array_map_world[8][10]=create_figure(8,10,'curve_2');getTurn(8,10);array_map_world[7][11]=create_figure(7,11,'ball');array_map_world[6][11]=create_figure(6,11,'curve_2');getTurn(6,11);getTurn(6,11);array_map_world[7][10]=create_figure(7,10,'ball');array_map_world[6][10]=create_figure(6,10,'cross');array_map_world[6][8]=create_figure(6,8,'cross');array_map_world[8][8]=create_figure(8,8,'curve_2');getTurn(8,8);getTurn(8,8);getTurn(8,8);array_map_world[5][8]=create_figure(5,8,'ball');getTurn(5,8);getTurn(5,8);array_map_world[7][8]=create_figure(7,8,'curve_3');getTurn(7,8);getTurn(7,8);getTurn(7,8);array_map_world[8][7]=create_figure(8,7,'straight');getTurn(8,7);array_map_world[8][3]=create_figure(8,3,'ball');getTurn(8,3);array_map_world[8][4]=create_figure(8,4,'curve_3');array_map_world[8][5]=create_figure(8,5,'straight');getTurn(8,5);array_map_world[8][6]=create_figure(8,6,'straight');getTurn(8,6);array_map_world[5][3]=create_figure(5,3,'ball');getTurn(5,3);getTurn(5,3);array_map_world[6][3]=create_figure(6,3,'straight');array_map_world[7][3]=create_figure(7,3,'curve_2');array_map_world[7][4]=create_figure(7,4,'curve_2');getTurn(7,4);getTurn(7,4);array_map_world[7][7]=create_figure(7,7,'straight');getTurn(7,7);array_map_world[7][5]=create_figure(7,5,'ball');getTurn(7,5);array_map_world[7][6]=create_figure(7,6,'straight');getTurn(7,6);array_map_world[5][11]=create_figure(5,11,'ball');getTurn(5,11);getTurn(5,11);getTurn(5,11);array_map_world[5][10]=create_figure(5,10,'curve_2');getTurn(5,10);array_map_world[5][9]=create_figure(5,9,'straight');array_map_world[4][10]=create_figure(4,10,'ball');getTurn(4,10);getTurn(4,10);getTurn(4,10);array_map_world[4][9]=create_figure(4,9,'cross');array_map_world[3][9]=create_figure(3,9,'curve_2');getTurn(3,9);getTurn(3,9);array_map_world[4][8]=create_figure(4,8,'straight');getTurn(4,8);array_map_world[4][7]=create_figure(4,7,'cross');array_map_world[2][7]=create_figure(2,7,'curve_2');array_map_world[2][8]=create_figure(2,8,'curve_2');getTurn(2,8);getTurn(2,8);array_map_world[3][8]=create_figure(3,8,'curve_2');array_map_world[2][6]=create_figure(2,6,'ball');getTurn(2,6);getTurn(2,6);array_map_world[3][7]=create_figure(3,7,'curve_2');getTurn(3,7);getTurn(3,7);array_map_world[3][5]=create_figure(3,5,'curve_2');getTurn(3,5);array_map_world[3][6]=create_figure(3,6,'curve_3');array_map_world[4][4]=create_figure(4,4,'ball');getTurn(4,4);getTurn(4,4);array_map_world[6][4]=create_figure(6,4,'curve_2');array_map_world[5][4]=create_figure(5,4,'straight');array_map_world[6][7]=create_figure(6,7,'straight');getTurn(6,7);array_map_world[5][7]=create_figure(5,7,'curve_2');getTurn(5,7);getTurn(5,7);getTurn(5,7);array_map_world[4][6]=create_figure(4,6,'ball');getTurn(4,6);array_map_world[6][6]=create_figure(6,6,'straight');getTurn(6,6);array_map_world[6][5]=create_figure(6,5,'straight');getTurn(6,5);array_map_world[5][5]=create_figure(5,5,'ball');getTurn(5,5);array_map_world[5][6]=create_figure(5,6,'straight');getTurn(5,6);array_map_world[4][5]=create_figure(4,5,'ball')}function getT_1(){array_map_world[0][7]=create_figure(0,7,"star");var array=['cross','curve_3','straight'];array_map_world[1][7]=create_figure(1,7,array[getRandomInt(0,array.length-1)]);if(array_map_world[1][7].type_figure=="curve_3"){getTurn(1,7)}array_map_world[2][6]=create_figure(2,6,'ball');getTurn(2,6);array_map_world[2][7]=create_figure(2,7,'cross');array_map_world[2][8]=create_figure(2,8,'ball');getTurn(2,8);getTurn(2,8);getTurn(2,8);array_map_world[3][5]=create_figure(3,5,'ball');getTurn(3,5);array_map_world[3][6]=create_figure(3,6,'curve_3');getTurn(3,6);getTurn(3,6);array_map_world[3][7]=create_figure(3,7,'curve_2');getTurn(3,7);getTurn(3,7);getTurn(3,7);array_map_world[3][8]=create_figure(3,8,'ball');getTurn(3,8);getTurn(3,8);array_map_world[3][9]=create_figure(3,9,'ball');getTurn(3,9);getTurn(3,9);array_map_world[4][6]=create_figure(4,6,'straight');array_map_world[5][6]=create_figure(5,6,'cross');array_map_world[14][7]=create_figure(14,7,array[getRandomInt(0,array.length-1)]);array_map_world[13][7]=create_figure(13,7,'curve_3');getTurn(13,7);getTurn(13,7);array_map_world[13][6]=create_figure(13,6,'straight');getTurn(13,6);array_map_world[13][5]=create_figure(13,5,'curve_3');array_map_world[13][4]=create_figure(13,4,'ball');getTurn(13,4);array_map_world[13][0]=create_figure(13,0,'ball');array_map_world[13][1]=create_figure(13,1,'ball');getTurn(13,1);array_map_world[12][0]=create_figure(12,0,'curve_2');getTurn(12,0);array_map_world[12][1]=create_figure(12,1,'straight');getTurn(12,1);array_map_world[12][2]=create_figure(12,2,'cross');array_map_world[12][3]=create_figure(12,3,'curve_3');getTurn(12,3);getTurn(12,3);array_map_world[12][4]=create_figure(12,4,'straight');getTurn(12,4);array_map_world[12][5]=create_figure(12,5,'cross');array_map_world[13][2]=create_figure(13,2,'curve_2');getTurn(13,2);getTurn(13,2);getTurn(13,2);array_map_world[13][3]=create_figure(13,3,'ball');array_map_world[13][8]=create_figure(13,8,'straight');getTurn(13,8);array_map_world[13][9]=create_figure(13,9,'curve_3');array_map_world[13][10]=create_figure(13,10,'straight');getTurn(13,10);array_map_world[13][11]=create_figure(13,11,'ball');getTurn(13,11);getTurn(13,11);getTurn(13,11);array_map_world[13][14]=create_figure(13,14,'ball');getTurn(13,14);getTurn(13,14);getTurn(13,14);array_map_world[13][13]=create_figure(13,13,'straight');getTurn(13,13);array_map_world[13][12]=create_figure(13,12,'curve_2');array_map_world[12][7]=create_figure(12,7,'ball');getTurn(12,7);getTurn(12,7);getTurn(12,7);array_map_world[12][6]=create_figure(12,6,'curve_3');array_map_world[12][13]=create_figure(12,13,'curve_2');array_map_world[12][9]=create_figure(12,9,'curve_2');getTurn(12,9);array_map_world[12][10]=create_figure(12,10,'straight');getTurn(12,10);array_map_world[12][14]=create_figure(12,14,'ball');getTurn(12,14);getTurn(12,14);getTurn(12,14);array_map_world[12][11]=create_figure(12,11,'curve_3');array_map_world[12][12]=create_figure(12,12,'curve_2');getTurn(12,12);getTurn(12,12);array_map_world[12][8]=create_figure(12,8,'ball');array_map_world[11][1]=create_figure(11,1,'ball');getTurn(11,1);array_map_world[10][1]=create_figure(10,1,'ball');getTurn(10,1);array_map_world[11][13]=create_figure(11,13,'curve_2');getTurn(11,13);getTurn(11,13);array_map_world[11][2]=create_figure(11,2,'cross');array_map_world[11][5]=create_figure(11,5,'straight');array_map_world[10][5]=create_figure(10,5,'straight');array_map_world[11][6]=create_figure(11,6,'curve_2');getTurn(11,6);array_map_world[11][7]=create_figure(11,7,'curve_2');getTurn(11,7);getTurn(11,7);getTurn(11,7);array_map_world[11][3]=create_figure(11,3,'straight');getTurn(11,3);array_map_world[11][4]=create_figure(11,4,'ball');getTurn(11,4);getTurn(11,4);getTurn(11,4);array_map_world[11][8]=create_figure(11,8,'curve_2');getTurn(11,8);array_map_world[11][9]=create_figure(11,9,'straight');getTurn(11,9);array_map_world[11][10]=create_figure(11,10,'straight');getTurn(11,10);array_map_world[11][11]=create_figure(11,11,'curve_3');getTurn(11,11);getTurn(11,11);array_map_world[11][12]=create_figure(11,12,'curve_3');array_map_world[10][13]=create_figure(10,13,'ball');getTurn(10,13);getTurn(10,13);getTurn(10,13);array_map_world[9][5]=create_figure(9,5,'cross');array_map_world[10][2]=create_figure(10,2,'curve_3');getTurn(10,2);getTurn(10,2);array_map_world[8][5]=create_figure(8,5,'curve_2');getTurn(8,5);array_map_world[8][6]=create_figure(8,6,'curve_2');getTurn(8,6);getTurn(8,6);getTurn(8,6);array_map_world[10][3]=create_figure(10,3,'curve_3');array_map_world[10][4]=create_figure(10,4,'ball');getTurn(10,4);getTurn(10,4);getTurn(10,4);array_map_world[9][1]=create_figure(9,1,'ball');getTurn(9,1);array_map_world[9][2]=create_figure(9,2,'straight');getTurn(9,2);array_map_world[9][3]=create_figure(9,3,'curve_3');getTurn(9,3);getTurn(9,3);array_map_world[9][4]=create_figure(9,4,'straight');getTurn(9,4);array_map_world[10][6]=create_figure(10,6,'ball');getTurn(10,6);array_map_world[10][7]=create_figure(10,7,'curve_3');getTurn(10,7);getTurn(10,7);array_map_world[10][8]=create_figure(10,8,'straight');getTurn(10,8);array_map_world[10][9]=create_figure(10,9,'straight');getTurn(10,9);array_map_world[9][6]=create_figure(9,6,'straight');getTurn(9,6);array_map_world[9][7]=create_figure(9,7,'straight');getTurn(9,7);array_map_world[10][10]=create_figure(10,10,'curve_3');array_map_world[10][12]=create_figure(10,12,'curve_3');getTurn(10,12);getTurn(10,12);array_map_world[10][11]=create_figure(10,11,'straight');getTurn(10,11);array_map_world[9][8]=create_figure(9,8,'ball');getTurn(9,8);getTurn(9,8);getTurn(9,8);array_map_world[9][13]=create_figure(9,13,'ball');getTurn(9,13);getTurn(9,13);getTurn(9,13);array_map_world[9][10]=create_figure(9,10,'cross');array_map_world[9][11]=create_figure(9,11,'straight');getTurn(9,11);array_map_world[9][12]=create_figure(9,12,'curve_3');array_map_world[8][11]=create_figure(8,11,'ball');getTurn(8,11);array_map_world[8][12]=create_figure(8,12,'curve_2');getTurn(8,12);getTurn(8,12);array_map_world[9][9]=create_figure(9,9,'ball');getTurn(9,9);array_map_world[7][2]=create_figure(7,2,'ball');getTurn(7,2);array_map_world[8][2]=create_figure(8,2,'ball');getTurn(8,2);array_map_world[8][3]=create_figure(8,3,'straight');getTurn(8,3);array_map_world[8][4]=create_figure(8,4,'curve_2');getTurn(8,4);getTurn(8,4);getTurn(8,4);array_map_world[7][3]=create_figure(7,3,'curve_3');array_map_world[7][4]=create_figure(7,4,'curve_3');getTurn(7,4);getTurn(7,4);getTurn(7,4);array_map_world[6][3]=create_figure(6,3,'curve_2');getTurn(6,3);array_map_world[6][4]=create_figure(6,4,'cross');array_map_world[7][5]=create_figure(7,5,'ball');getTurn(7,5);array_map_world[7][6]=create_figure(7,6,'cross');array_map_world[6][6]=create_figure(6,6,'curve_3');getTurn(6,6);getTurn(6,6);getTurn(6,6);array_map_world[6][5]=create_figure(6,5,'straight');getTurn(6,5);array_map_world[5][3]=create_figure(5,3,'ball');getTurn(5,3);array_map_world[4][5]=create_figure(4,5,'ball');getTurn(4,5);getTurn(4,5);getTurn(4,5);array_map_world[4][4]=create_figure(4,4,'curve_2');getTurn(4,4);array_map_world[5][4]=create_figure(5,4,'curve_3');getTurn(5,4);getTurn(5,4);getTurn(5,4);array_map_world[5][5]=create_figure(5,5,'ball');getTurn(5,5);array_map_world[4][7]=create_figure(4,7,'ball');getTurn(4,7);array_map_world[4][8]=create_figure(4,8,'curve_3');getTurn(4,8);getTurn(4,8);getTurn(4,8);array_map_world[6][9]=create_figure(6,9,'ball');array_map_world[5][11]=create_figure(5,11,'ball');getTurn(5,11);getTurn(5,11);array_map_world[7][12]=create_figure(7,12,'ball');getTurn(7,12);getTurn(7,12);getTurn(7,12);array_map_world[8][10]=create_figure(8,10,'curve_2');getTurn(8,10);getTurn(8,10);array_map_world[8][9]=create_figure(8,9,'straight');getTurn(8,9);array_map_world[8][8]=create_figure(8,8,'cross');array_map_world[8][7]=create_figure(8,7,'curve_2');array_map_world[7][8]=create_figure(7,8,'curve_2');getTurn(7,8);array_map_world[6][11]=create_figure(6,11,'straight');array_map_world[7][11]=create_figure(7,11,'cross');array_map_world[7][9]=create_figure(7,9,'curve_3');array_map_world[7][10]=create_figure(7,10,'curve_3');array_map_world[4][10]=create_figure(4,10,'ball');getTurn(4,10);getTurn(4,10);array_map_world[4][9]=create_figure(4,9,'straight');array_map_world[5][9]=create_figure(5,9,'curve_3');getTurn(5,9);array_map_world[5][10]=create_figure(5,10,'curve_3');getTurn(5,10);getTurn(5,10);getTurn(5,10);array_map_world[6][10]=create_figure(6,10,'straight');array_map_world[5][8]=create_figure(5,8,'curve_2');getTurn(5,8);getTurn(5,8);getTurn(5,8);array_map_world[5][7]=create_figure(5,7,'curve_3');getTurn(5,7);getTurn(5,7);array_map_world[6][7]=create_figure(6,7,'curve_3');getTurn(6,7);array_map_world[7][7]=create_figure(7,7,'curve_3');getTurn(7,7);getTurn(7,7);getTurn(7,7);array_map_world[6][8]=create_figure(6,8,'ball');getTurn(6,8);getTurn(6,8);getTurn(6,8)}function getH(y,x){if(array_map_world[14][7].top==1&&array_map_world[13][7].bottom==1){if(y==13&&x==7){array_map_world[13][7].charge=true;array_map_world[y][x-1].skip=1;$('#y_'+13+"_x_"+7).css("background-image","url("+array_map_world[13][7].image_on+")")}if(array_map_world[y][x].type_figure!="ball"){if(array_map_world[y][x].charge==true&&array_map_world[y][x].left==1&&array_map_world[y][x-1].skip_figure==0&&array_map_world[y][x-1].right==1){array_map_world[y][x-1].charge=true;array_map_world[y][x-1].skip_figure=1;var x_2=x-1;$('#y_'+y+"_x_"+x_2).css("background-image","url("+array_map_world[y][x_2].image_on+")");getH(y,x_2)}if(array_map_world[y][x].charge==true&&array_map_world[y][x].top==1&&array_map_world[y-1][x].bottom==1&&array_map_world[y-1][x].skip_figure==0){array_map_world[y-1][x].charge=true;array_map_world[y-1][x].skip_figure=1;var y_2=y-1;$('#y_'+y_2+"_x_"+x).css("background-image","url("+array_map_world[y_2][x].image_on+")");getH(y_2,x)}if(array_map_world[y][x].charge==true&&array_map_world[y][x].right==1&&array_map_world[y][x+1].left==1&&array_map_world[y][x+1].skip_figure==0){array_map_world[y][x+1].charge=true;array_map_world[y][x+1].skip_figure=1;var x_2=x+1;$('#y_'+y+"_x_"+x_2).css("background-image","url("+array_map_world[y][x_2].image_on+")");getH(y,x_2)}if(y==13&&x==7){}else{if(array_map_world[y][x].charge==true&&array_map_world[y][x].bottom==1&&array_map_world[y+1][x].top==1&&array_map_world[y+1][x].skip_figure==0){array_map_world[y+1][x].charge=true;array_map_world[y+1][x].skip_figure=1;var y_2=y+1;$('#y_'+y_2+"_x_"+x).css("background-image","url("+array_map_world[y_2][x].image_on+")");getH(y_2,x)}}}}else{for(var i=0;i<array_map_world.length;i++){for(var j=0;j<array_map_world[i].length;j++){if(array_map_world[i][j]!=0){$('#y_'+i+"_x_"+j).css("background-image","url("+array_map_world[i][j].image_off+")");array_map_world[i][j].charge=false}}}$('#y_'+14+"_x_"+7).css("background-image","url("+array_map_world[14][7].image_on+")");array_map_world[14][7].charge=true}}function getWord(){array_map_world=getWordAndElka();if(index_firs_pred==false){index_firs_pred=getRandomInt(1,3);if(index_firs_pred==1){getT_1()}else if(index_firs_pred==2){getT_2()}else if(index_firs_pred==3){getT_3()}}else{index_firs=getRandomInt(1,3);while(index_firs==index_firs_pred){index_firs=getRandomInt(1,3)}if(index_firs==1){getT_1()}else if(index_firs==2){getT_2()}else if(index_firs==3){getT_3()}index_firs_pred=index_firs}for(var i=0;i<array_map_world.length;i++){for(var j=0;j<array_map_world[i].length;j++){if(array_map_world[i][j]!=0||array_map_world[i][j]==1){$('#y_'+i+"_x_"+j).css("background-image","url("+array_map_world[i][j].image_off+")").css('cursor','pointer');array_map_world[i][j].skip_figure=0;array_map_world[i][j].charge=false;var g=getRandomInt(0,5);for(var h=g;h>0;h--){getTurn(i,j)}}else{}}}$('#y_'+14+"_x_"+7).css("background-image","url("+array_map_world[14][7].image_on+")");array_map_world[14][7].charge=true;getH(13,7)}$(document).on("mousedown",".loc",function(){var id=$(this).attr('id');var location=id.split("_");var y=location[1];var x=location[3];if(array_map_world[y][x]!=0){array_map_world[y][x].degrees+=90;if(array_map_world[y][x].type_figure=="straight"){if(array_map_world[y][x].top==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}else if(array_map_world[y][x].right==1&&array_map_world[y][x].left==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}}else if(array_map_world[y][x].type_figure=="star"){if(array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}else if(array_map_world[y][x].top==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}else if(array_map_world[y][x].right==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}}else if(array_map_world[y][x].type_figure=="curve_3"){if(array_map_world[y][x].top==1&&array_map_world[y][x].left==1&&array_map_world[y][x].right==1){array_map_world[y][x].top=1;array_map_world[y][x].right=1;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}else if(array_map_world[y][x].top==1&&array_map_world[y][x].right==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=1;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1&&array_map_world[y][x].right==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1&&array_map_world[y][x].top==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=1;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}}else if(array_map_world[y][x].type_figure=="ball"){if(array_map_world[y][x].top==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}else if(array_map_world[y][x].right==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}else if(array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}}else if(array_map_world[y][x].type_figure=="curve_2"){if(array_map_world[y][x].top==1&&array_map_world[y][x].right==1){array_map_world[y][x].top=0;array_map_world[y][x].right=1;array_map_world[y][x].bottom=1;array_map_world[y][x].left=0}else if(array_map_world[y][x].right==1&&array_map_world[y][x].bottom==1){array_map_world[y][x].top=0;array_map_world[y][x].right=0;array_map_world[y][x].bottom=1;array_map_world[y][x].left=1}else if(array_map_world[y][x].bottom==1&&array_map_world[y][x].left==1){array_map_world[y][x].top=1;array_map_world[y][x].right=0;array_map_world[y][x].bottom=0;array_map_world[y][x].left=1}else if(array_map_world[y][x].left==1&&array_map_world[y][x].top==1){array_map_world[y][x].top=1;array_map_world[y][x].right=1;array_map_world[y][x].bottom=0;array_map_world[y][x].left=0}}for(var i=0;i<array_map_world.length;i++){for(var j=0;j<array_map_world[i].length;j++){if(array_map_world[i][j]!=0||array_map_world[i][j]==1){$('#y_'+i+"_x_"+j).css("background-image","url("+array_map_world[i][j].image_off+")").css('cursor','pointer');array_map_world[i][j].skip_figure=0;array_map_world[i][j].charge=false}}}$('#y_'+14+"_x_"+7).css("background-image","url("+array_map_world[14][7].image_on+")");array_map_world[14][7].charge=true;getH(13,7);var flag=true;for(var i=0;i<array_map_world.length;i++){for(var j=0;j<array_map_world[i].length;j++){if(array_map_world[i][j]!=0||array_map_world[i][j]==1){if(array_map_world[i][j].charge==false){flag=false;break}}}}if(flag){VK.api("users.get",{fields:"sex"},function(data){var data_game={vk_id:data.response[0].uid};$.ajax({url:'php/add_user_firs.php',type:'post',data:data_game});$.ajax({url:'php/firs.php',type:'post',data:data_game,success:function(resualt){$('#stolb div').text(resualt);var g="собрал";if(data.response[0].sex==1){g="собрала"}if(resualt==1){VK.api('wall.post',{message:'Я '+g+' свою первую Ёлочку в приложении "Ёлочка, гори", что бы спасти Новый Год https://vk.com/app5144297',attachment:"photo-107246498_393534100"})}else{VK.api('wall.post',{message:'Я '+g+' свою '+resualt+'-ую Ёлочку в приложении "Ёлочка, гори", что бы спасти Новый Год https://vk.com/app5144297',attachment:"photo-107246498_393534100"})}}})});$('.word').html("<div id='info_flag' style='width:480px; height:340px;'></div><div id='bat'></div>")}$('#y_'+array_map_world[y][x].y+"_x_"+array_map_world[y][x].x).rotate({animateTo:array_map_world[y][x].degrees})}});$(document).on("click","#game_start",function(){$(this).remove();getWord()});$(document).on("click","#rating",function(){history=$('.word').html();$(this).css("background-image","url('/images/play1.png')");$(this).attr('id','rating_game');var html="<div id='panel_rating' style='width:100%;height:37px;'><div id='rating_today'></div><div id='rating_all'></div><div style='color:#fff; padding-top:7px;font-weight: bold;margin-left:10px;float:left; font-size:19px;'>ТОП 8 ЛУЧШИХ</div></div><div id='rating_content'></div>";$('.word').html(html);$('.elka').css("background","transparent");$('#rating_today').click()});$(document).on("click","#rating_game",function(){$('#panel_rating').remove();$('#rating_content').remove();$(this).attr('id','rating');$(this).css("background-image","url('/images/reyting.png')");$('.elka').css("background-image","url('/images/pine1_1.png')");getWord()});$(document).on("click","#rating_all",function(){$(this).css("background-image","url('/images/all_on.png')");$("#rating_today").css("background-image","url('/images/today.png')");$("#rating_friends").css("background-image","url('/images/friends.png')");$('#rating_content').html("");$.ajax({url:'/php/get_rating_all.php',type:'post',success:function(date_today){var arr=date_today.split("+");for(var i=0;i<arr.length-1;i++){var arr2=arr[i].split(":");var vk_id=arr2[0];var count_firs=arr2[1];$('#rating_content').append("<div class = 'tablo'><div id='tablo_number'><button>"+(i+1)+"</button></div><div id='tablo_avatar' > <img class='table_avatar_"+vk_id+"' style='width:100%;height:100%' src='"+"'/></div><div id='tablo_first_name_and_last_name'><div id='tablo_first_name'><button class='table_first_name_"+vk_id+"'></button></div><div id='tablo_first_name'><button class='table_last_name_"+vk_id+"'></button></div></div><div id='tablo_coutn'>"+arr2[1]+"</div></div>");VK.api("users.get",{uids:vk_id,fields:"id,photo_50,first_name,last_name"},function(data){$('.table_avatar_'+data.response[0].uid).attr("src",data.response[0].photo_50);$('.table_first_name_'+data.response[0].uid).text(data.response[0].first_name);$('.table_last_name_'+data.response[0].uid).text(data.response[0].last_name)})}}})});$(document).on("click","#rating_friends",function(){$(this).css("background-image","url('/images/friends_on.png')");$("#rating_today").css("background-image","url('/images/today.png')");$("#rating_all").css("background-image","url('/images/all.png')");$('#rating_content').html("")});$(document).on("click","#rating_today",function(){$(this).css("background-image","url('/images/today_on.png')");$("#rating_friends").css("background-image","url('/images/friends.png')");$("#rating_all").css("background-image","url('/images/all.png')");$('#rating_content').html("");$.ajax({url:'/php/get_rating_today.php',type:'post',success:function(date_today){var arr=date_today.split("+");for(var i=0;i<arr.length-1;i++){var arr2=arr[i].split(":");var vk_id=arr2[0];var count_firs=arr2[1];$('#rating_content').append("<div class = 'tablo'><div id='tablo_number'><button>"+(i+1)+"</button></div><div id='tablo_avatar' > <img class='table_avatar_"+vk_id+"' style='width:100%;height:100%' src='"+"'/></div><div id='tablo_first_name_and_last_name'><div id='tablo_first_name'><button class='table_first_name_"+vk_id+"'></button></div><div id='tablo_first_name'><button class='table_last_name_"+vk_id+"'></button></div></div><div id='tablo_coutn'>"+arr2[1]+"</div></div>");VK.api("users.get",{uids:vk_id,fields:"id,photo_50,first_name,last_name"},function(data){$('.table_avatar_'+data.response[0].uid).attr("src",data.response[0].photo_50);$('.table_first_name_'+data.response[0].uid).text(data.response[0].first_name);$('.table_last_name_'+data.response[0].uid).text(data.response[0].last_name)})}}})})});